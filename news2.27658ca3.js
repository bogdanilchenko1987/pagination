const e={headers:{Authorization:"1eec6abc1d92447a9638ef847a14c7e2"}};function t(e){return e.map((({url:e,urlToImage:t,title:r,author:s,description:n})=>`  <li>\n    <a href="${e}" target="_blank" rel="noopener noreferrer">\n      <article>\n        <img src="${t}" alt="" width="480">\n        <h2>${r}</h2>\n        <p>Posted by: ${s}</p>\n        <p>${n}</p>\n      </article>\n    </a>\n  </li>`)).join("")}const r={searchForm:document.querySelector(".js-search-form"),articlesContainer:document.querySelector(".js-articles-container")},s=new class{fechArticles(){const t=`https://newsapi.org/v2/everything?q=${this.searchQuery}&language=en&pageSize=5&page=${this.page}`;return fetch(t,e).then((e=>e.json())).then((e=>(this.incrementPage(),e.articles)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}},n=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Показать ещё",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="Загружаем...",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]'});function i(){n.disable(),s.fechArticles().then((e=>{!function(e){r.articlesContainer.insertAdjacentHTML("beforeend",t(e))}(e),n.enable()}))}n.refs.button.addEventListener("click",i),r.searchForm.addEventListener("submit",(function(e){e.preventDefault(),r.articlesContainer.innerHTML="",s.query=e.currentTarget.elements.query.value,s.resetPage(),n.show(),i()}));
//# sourceMappingURL=news2.27658ca3.js.map
