{"mappings":"YAEA,IAAMA,EAASC,SAASC,cAAc,cAChCC,EAAOF,SAASC,cAAc,YACpCF,EAAOI,iBAAiB,UAExB,SAAkBC,GAChBA,EAAEC,iBACF,IAAwBC,EAAAF,EAAEG,cAAcC,SAAhCC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,MAMjB,SAAoBC,EAAMD,GACxB,IACME,EAAU,iCAYhB,OAAOC,MACL,GAAiCC,OAdlB,+BAcH,uBAAkCA,OAAbF,EAAQ,OAAkBE,OAAbH,EAAK,UAAaG,OAALJ,EAAK,aAChEK,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,YAE3B,OAAOH,EAASI,M,KAzBlBC,CAAWZ,EAAMa,MAAOZ,EAAKY,OAC1BP,MAAK,SAAAQ,G,OAASrB,EAAKsB,UAAyBD,EAAKE,SAASC,YA8B1DC,KACC,SAAAC,G,IACEC,EAAID,EAAJC,KAAIC,EAAAF,EACJG,IACEC,EAASF,EAATE,UAASC,EAAAH,EACTI,UAAaC,EAAIF,EAAJE,KAAMC,EAAIH,EAAJG,K,MAEjB,mCAE0BtB,OAAdsB,EAAK,WAChBtB,OADyBqB,EAAK,mBAE7BrB,OADDqB,EAAK,0BAERrB,OADIe,EAAK,mBACCf,OAAVkB,EAAU,qB,IAIfK,KAAK,G,IA7CLC,OAAM,SAAAC,G,OAAOC,QAAQC,IAAIF,E","sources":["src/js/weather.js"],"sourcesContent":["// http://api.weatherapi.com/v1/forecast.json?key=a513b9e402f74148a7430930241802&q=Paris&days=3\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nsearch.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const { query, days } = e.currentTarget.elements;\n  getWeather(query.value, days.value)\n    .then(data => (list.innerHTML = createMarkup(data.forecast.forecastday)))\n    .catch(err => console.log(err));\n}\n\nfunction getWeather(city, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n  const API_KEY = 'a513b9e402f74148a7430930241802';\n\n  //   const params = new URLSearchParams({\n  //     key: API_KEY,\n  //     q: city,\n  //     days: days,\n  //     lang: 'uk',\n  //   });\n  //     console.log(params.toString());\n\n  //   return fetch(`${BASE_URL}/forecast.json?${params}`).then\n\n  return fetch(\n    `${BASE_URL}/forecast.json?key=${API_KEY}&q=${city}&days=${days}&lang=uk`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { text, icon },\n        },\n      }) => `\n  <li>\n            <img src=\"${icon}\" alt=\"${text}\">\n        <p>${text}</p>    \n        <h2>${date}</h2>\n    <h3>${avgtemp_c}</h3>\n</li>\n    `\n    )\n    .join('');\n}\n"],"names":["$b7c37e8f14632f7d$var$search","document","querySelector","$b7c37e8f14632f7d$var$list","addEventListener","e","preventDefault","_elements","currentTarget","elements","query","days","city","API_KEY","fetch","concat","then","response","ok","Error","statusText","json","$b7c37e8f14632f7d$var$getWeather","value","data","innerHTML","forecast","forecastday","map","param","date","_day","day","avgtemp_c","_condition","condition","text","icon","join","catch","err","console","log"],"version":3,"file":"weather.0cd33035.js.map"}